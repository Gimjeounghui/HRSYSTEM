<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gjh.hrsystem.employee.service.EmployeeMapper">

	<!-- 나눔상품 리스트 쿼리 -->

	<select id="selectEmployeeList" resultType="employeeVO" parameterType="employeeVO">

      SELECT
          BOARD2.*
      FROM(
          SELECT
              COUNT(*) OVER() AS totalRecordCount,
              BOARD1.*
          FROM(
                 SELECT
                        ROW_NUMBER() OVER (ORDER BY NO DESC) AS rnum
                   
                      ,NO
                      ,NAME
                      ,GENDER
                      ,DEPARTMENT
                      ,SALARY
                      ,HIREDATE
                      
                   FROM   EMPLOYEE
                   WHERE  1=1
                   
                   <if test="name != null and name != '' ">
                      AND NAME LIKE '%' || #{name} || '%'
                   </if>
                  
                ) BOARD1
         ) BOARD2
         WHERE   BOARD2.RNUM BETWEEN #{start} AND #{end}
         
	</select>

</mapper>